---
import { Image } from 'astro:assets';
import type { HTMLAttributes } from 'astro/types';
import type { ImageMetadata } from 'astro';

interface Props extends HTMLAttributes<'div'> {
  imageSrc: ImageMetadata;
  imageAlt: string;
  galleryId: string;
  loading?: 'eager' | 'lazy';
  class?: string;
}

const { imageSrc, imageAlt, galleryId, loading = 'lazy', class: className, ...attrs } = Astro.props;
---

<div class:list={['page-desktop', className]} data-gallery-id={galleryId} {...attrs}>
  <Image
    src={imageSrc}
    alt={imageAlt}
    width={1920}
    height={1080}
    format="webp"
    loading={loading}
  />
</div>

<style>
  .page-desktop {
    position: relative;
    width: 100vw;
    height: 100dvh;
    overflow: hidden;
  }

  .page-desktop::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.1);
    z-index: 1;
    pointer-events: none;
  }

  .page-desktop :global(img) {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
</style>
