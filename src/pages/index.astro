---
import BaseLayout from '@layouts/BaseLayout.astro';
import BodyTextContainer from '@components/BodyTextContainer.astro';
import DeguLogo from '@components/DeguLogo.astro';
import HeaderContainer from '@components/HeaderContainer.astro';
import LanguageSwitcher from '@components/LanguageSwitcher.astro';
import MenuCollapsed from '@components/MenuCollapsed.astro';
import PageDesktop from '@components/PageDesktop.astro';
import PageMobile from '@components/PageMobile.astro';
import PageScrollDesktop from '@components/PageScrollDesktop.astro';
import PageScrollMobile from '@components/PageScrollMobile.astro';
import ScrollHint from '@components/ScrollHint.astro';

import { t } from '@i18n/utils';

import socialMediaHero from '@assets/images/pages/social-media-hero.png';
import productPhotographyHero from '@assets/images/pages/product-photography-hero.png';
import keyVisualsHero from '@assets/images/pages/key-visuals-hero.png';

const locale = 'lt';
const i18n = t(locale);
---

<BaseLayout title={i18n.meta.title} description={i18n.meta.description} locale={locale}>
  <DeguLogo />
  <LanguageSwitcher currentLocale={locale} />

  <main class="hero">
    <div class="intro-block" data-intro="intro-block">
      <HeaderContainer text={i18n.intro.header1} data-intro="header-degu" />
      <div class="studio-row">
        <HeaderContainer text={i18n.intro.header2} data-intro="header-studio" />
        <BodyTextContainer text={i18n.intro.body} class="intro-body" data-intro="body-text" />
      </div>
    </div>
    <ScrollHint class="scroll-hint-pos" data-intro="scroll-hint" />
    <div class="menu-wrapper">
      <MenuCollapsed />
    </div>
    <PageScrollDesktop data-scroll="page-scroll">
      <PageDesktop
        imageSrc={socialMediaHero}
        imageAlt={i18n.work.pages.socialMedia.imageAlt}
        galleryId="social-media"
        loading="eager"
        data-intro="gallery-placeholder"
      />
      <PageDesktop
        imageSrc={productPhotographyHero}
        imageAlt={i18n.work.pages.productPhotography.imageAlt}
        galleryId="product-photography"
      />
      <PageDesktop
        imageSrc={keyVisualsHero}
        imageAlt={i18n.work.pages.keyVisuals.imageAlt}
        galleryId="key-visuals"
      />
    </PageScrollDesktop>
    <PageScrollMobile data-scroll="page-scroll-mobile">
      <PageMobile
        imageSrc={socialMediaHero}
        imageAlt={i18n.work.pages.socialMedia.imageAlt}
        galleryId="social-media"
        loading="eager"
        data-intro="gallery-placeholder"
      />
      <PageMobile
        imageSrc={productPhotographyHero}
        imageAlt={i18n.work.pages.productPhotography.imageAlt}
        galleryId="product-photography"
      />
      <PageMobile
        imageSrc={keyVisualsHero}
        imageAlt={i18n.work.pages.keyVisuals.imageAlt}
        galleryId="key-visuals"
      />
    </PageScrollMobile>
  </main>
</BaseLayout>

<script>
  import { initIntroAnimation } from '@lib/animations/intro';
  initIntroAnimation();
</script>

<style>
  .hero {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    height: 100vh;
    overflow: hidden;
    padding: 32.8vh 2rem 2rem;
  }

  .intro-block {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
  }

  .studio-row {
    display: flex;
    align-items: center;
    gap: clamp(4px, 2vw, 24px);
  }

  .intro-body {
    text-align: left;
  }

  .scroll-hint-pos {
    position: relative;
    z-index: 2;
    margin-top: 20px;
  }

  .menu-wrapper {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    opacity: 0;
    pointer-events: none;
  }

  .hero :global(.page-scroll-desktop),
  .hero :global(.page-scroll-mobile) {
    position: absolute;
    inset: 0;
    z-index: 1;
    overflow: hidden;
    visibility: hidden;
  }

  @media (max-width: 768px) {
    .hero :global(.page-scroll-desktop) {
      display: none;
    }
  }

  @media (min-width: 769px) {
    .hero :global(.page-scroll-mobile) {
      display: none;
    }
  }

  [data-intro="intro-block"],
  [data-intro="scroll-hint"] {
    visibility: hidden;
  }

  @media (max-width: 768px) {
    .hero {
      padding: 32.8vh 1rem 2rem;
    }
  }
</style>
